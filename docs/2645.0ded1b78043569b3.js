"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2645],{2645:(U,u,_)=>{_.r(u),_.d(u,{ProductPageModule:()=>O});var s=_(6814),l=_(6223),e=_(1929),p=_(8476),h=_(9779),x=_(798),o=_(9212),g=_(5472),P=_(186),f=_(9515);function m(t,c){if(1&t&&(o.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-card",4),o._UZ(4,"ion-img",5),o.TgZ(5,"ion-card-header")(6,"ion-card-title"),o._uU(7),o.ALo(8,"translate"),o.qZA()()()()()()),2&t){const n=o.oxw(2);o.xp6(4),o.Q6J("src","assets/img/products/"+n.product.img),o.xp6(3),o.hij(" ",o.lcZ(8,2,"label.price")+": "+n.product.price+" \u20ac"," ")}}function Z(t,c){if(1&t&&(o.TgZ(0,"ion-text"),o._uU(1),o.qZA()),2&t){const n=o.oxw().$implicit;o.xp6(1),o.hij(" (",n.options[0].price+" \u20ac",")")}}function v(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-card-content")(1,"ion-checkbox",12),o.NdJ("ionChange",function(){o.CHM(n);const r=o.oxw(5);return o.KtG(r.calculateTotal())})("ngModelChange",function(r){o.CHM(n);const a=o.oxw().$implicit;return o.KtG(a.options[0].activate=r)}),o._uU(2),o.qZA()()}if(2&t){const n=o.oxw().$implicit;o.xp6(1),o.Q6J("ngModel",n.options[0].activate),o.xp6(1),o.hij(" ",(n.options[0].activate?n.options[0].price:0)+" \u20ac"," ")}}function T(t,c){if(1&t&&(o.TgZ(0,"ion-item",6)(1,"ion-radio",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&t){const n=c.$implicit;o.xp6(1),o.Q6J("value",n.name),o.xp6(1),o.hij(" ",o.lcZ(3,2,n.name)+" (+"+n.price+" \u20ac)"," ")}}function A(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-card-content")(1,"ion-radio-group",13),o.NdJ("ionChange",function(r){o.CHM(n);const a=o.oxw().$implicit,d=o.oxw(4);return o.KtG(d.changeMultipleOption(r,a.options))}),o.YNc(2,T,4,4,"ion-item",14),o.qZA()()}if(2&t){const n=o.oxw().$implicit;o.xp6(1),o.Q6J("value",n.options[0].name),o.xp6(1),o.Q6J("ngForOf",n.options)}}function C(t,c){if(1&t&&(o.TgZ(0,"ion-col",10)(1,"ion-card",11),o._UZ(2,"ion-img",5),o.TgZ(3,"ion-card-header")(4,"ion-card-title"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.YNc(7,Z,2,1,"ion-text",3),o.qZA(),o.YNc(8,v,3,2,"ion-card-content",3)(9,A,3,2,"ion-card-content",3),o.qZA()()),2&t){const n=c.$implicit;o.xp6(2),o.Q6J("src","assets/img/products/"+n.img),o.xp6(3),o.hij(" ",o.lcZ(6,5,n.name)," "),o.xp6(2),o.Q6J("ngIf",1===n.options.length),o.xp6(1),o.Q6J("ngIf",1===n.options.length),o.xp6(1),o.Q6J("ngIf",n.options.length>1)}}function w(t,c){if(1&t&&(o.TgZ(0,"ion-row")(1,"ion-col",8)(2,"ion-text"),o._uU(3),o.ALo(4,"translate"),o.qZA()(),o.YNc(5,C,10,7,"ion-col",9),o.qZA()),2&t){const n=c.$implicit;o.xp6(3),o.Oqu(o.lcZ(4,2,n.label)),o.xp6(2),o.Q6J("ngForOf",n.blocks)}}function J(t,c){if(1&t&&(o.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-item",6)(4,"ion-label"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"ion-text"),o._uU(8),o.qZA()()()(),o.YNc(9,w,6,4,"ion-row",7),o.qZA()),2&t){const n=o.oxw(2);o.xp6(5),o.Oqu(o.lcZ(6,3,"label.price")),o.xp6(3),o.hij("",n.totalPrice," \u20ac"),o.xp6(1),o.Q6J("ngForOf",n.product.extras)}}function M(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-content",1)(1,"ion-refresher",2),o.NdJ("ionRefresh",function(r){o.CHM(n);const a=o.oxw();return o.KtG(a.getProduct(r))}),o._UZ(2,"ion-refresher-content"),o.qZA(),o.YNc(3,m,9,4,"ion-grid",3)(4,J,10,5,"ion-grid",3),o.qZA()}if(2&t){const n=o.oxw();o.Q6J("fullscreen",!0),o.xp6(3),o.Q6J("ngIf",!n.product.extras),o.xp6(1),o.Q6J("ngIf",n.product.extras)}}const F=[{path:"",component:(()=>{var t;class c{constructor(i,r,a){this.navController=i,this.navParams=r,this.store=a,this.product=null}ionViewWillEnter(){this.product=this.navParams.data.product,this.product&&this.product.extras&&(this.totalPrice=this.product.price),this.product||this.navController.navigateForward("categories")}changeMultipleOption(i,r){r.forEach(a=>a.activate=i.detail.value==a.name),this.calculateTotal()}calculateTotal(){let i=this.product.price;this.product.extras.forEach(r=>{r.blocks&&r.blocks.forEach(a=>{if(1===a.options.length&&a.options[0].activate)i+=a.options[0].price;else if(a.options.length>1){const d=a.options.find(N=>N.activate);i+=d.price}})}),this.totalPrice=parseFloat(i.toFixed(2))}getProduct(i){this.store.dispatch(new h.Q({id:this.product._id})).subscribe({next:()=>{this.product=this.store.selectSnapshot(x.k.product),this.calculateTotal()},complete:()=>{i.target.complete()}})}}return(t=c).\u0275fac=function(i){return new(i||t)(o.Y36(g.SH),o.Y36(g.X1),o.Y36(P.yh))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-product"]],decls:1,vars:1,consts:[["class","fondo",3,"fullscreen",4,"ngIf"],[1,"fondo",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],[1,"list","ion-text-center"],[3,"src"],["lines","none"],[4,"ngFor","ngForOf"],["size","12",1,"ion-text-center"],["size","6",4,"ngFor","ngForOf"],["size","6"],[1,"list","product","ion-text-center"],["name","check","labelPlacement","end",3,"ngModel","ionChange","ngModelChange"],[3,"value","ionChange"],["lines","none",4,"ngFor","ngForOf"],["labelPlacement","start",3,"value"]],template:function(i,r){1&i&&o.YNc(0,M,5,3,"ion-content",0),2&i&&o.Q6J("ngIf",r.product)},dependencies:[s.sg,s.O5,l.JJ,l.On,e.PM,e.FN,e.Zi,e.Dq,e.nz,e.wI,e.W2,e.jY,e.Xz,e.Ie,e.Q$,e.B7,e.se,e.nJ,e.Wo,e.Nd,e.yW,e.w,e.U5,e.QI,f.X$],styles:[".block-title[_ngcontent-%COMP%]{font-size:22px}.ion-card.product[_ngcontent-%COMP%]{height:95%}ion-radio[_ngcontent-%COMP%]{font-size:11px}"]}),c})()}];let Q=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.Bz.forChild(F),p.Bz]}),c})(),O=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[s.ez,l.u5,e.Pc,Q,f.aw.forChild(),l.u5]}),c})()}}]);